<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Javascript on Wang's Blog</title><link>https://wastu01.github.io/categories/javascript/</link><description>Recent content in Javascript on Wang's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><copyright>版權 Wang</copyright><atom:link href="https://wastu01.github.io/categories/javascript/index.xml" rel="self" type="application/rss+xml"/><item><title>OpenStreetMap-Leaflet-網頁地圖視覺化</title><link>https://wastu01.github.io/article/openstreetmap-leaflet-map/</link><pubDate>Mon, 02 Oct 2023 00:00:00 +0000</pubDate><guid>https://wastu01.github.io/article/openstreetmap-leaflet-map/</guid><description>&lt;img src="https://wastu01.github.io/article/openstreetmap-leaflet-map/OpenStreetMap-Leaflet-%E5%9C%B0%E5%9C%96%E8%A6%96%E8%A6%BA%E5%8C%96.png" alt="Featured image of post OpenStreetMap-Leaflet-網頁地圖視覺化" />&lt;h1 id="製作網頁地圖">製作網頁地圖&lt;/h1>
&lt;p>跟著網路上大大的教學文章，成功實作網頁上放入地圖！&lt;/p>
&lt;h2 id="參考資料">參考資料&lt;/h2>
&lt;p>&lt;a class="link" href="https://leafletjs.com" target="_blank" rel="noopener"
>https://leafletjs.com&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.letswrite.tw/leaflet-osm-basic" target="_blank" rel="noopener"
>OSM + Leaflet 學習筆記 系列文&lt;/a>&lt;/p>
&lt;h2 id="demo">Demo：&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/wastu01/leaflet" target="_blank" rel="noopener"
>https://github.com/wastu01/leaflet&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;span class="lnt">75
&lt;/span>&lt;span class="lnt">76
&lt;/span>&lt;span class="lnt">77
&lt;/span>&lt;span class="lnt">78
&lt;/span>&lt;span class="lnt">79
&lt;/span>&lt;span class="lnt">80
&lt;/span>&lt;span class="lnt">81
&lt;/span>&lt;span class="lnt">82
&lt;/span>&lt;span class="lnt">83
&lt;/span>&lt;span class="lnt">84
&lt;/span>&lt;span class="lnt">85
&lt;/span>&lt;span class="lnt">86
&lt;/span>&lt;span class="lnt">87
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">// Original tutorial &amp;amp; code :
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// https://superplug.in/supermarquee/demo/7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// https://www.letswrite.tw/leaflet-osm-basic/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">document.addEventListener(&amp;#39;DOMContentLoaded&amp;#39;, () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> let center = [24.7824571,120.9957021];
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // 跟使用者要位置
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> function successGPS(position) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> const lat = position.coords.latitude;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> const lng = position.coords.longitude;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> center = [lat, lng];
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // 接著寫確認了座標後要執行的事
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> triggerLeaflet()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> };
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> function errorGPS() {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> window.alert(&amp;#39;無法判斷您的所在位置，無法使用此功能。預設地點將為 NCHC&amp;#39;);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // 接著寫使用者「封鎖」位置資訊請求後要執行的事
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> triggerLeaflet()
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if(navigator.geolocation) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> navigator.geolocation.getCurrentPosition(successGPS, errorGPS);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> console.log(successGPS);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> } else {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> window.alert(&amp;#39;您的裝置不具備GPS，無法使用此功能&amp;#39;);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // 接著寫使用者裝置不支援位置資訊時要執行的事
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> triggerLeaflet();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> function triggerLeaflet() {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> let zoom = 16; // 0 - 18
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> let center = [24.7825236,120.9957928]; // 中心點座標
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> let map = L.map(&amp;#39;map&amp;#39;).setView(center,zoom);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> L.tileLayer(&amp;#39;https://tile.openstreetmap.org/{z}/{x}/{y}.png&amp;#39;, {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> maxZoom: 18,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> attribution: &amp;#39;&amp;amp;copy; &amp;lt;a href=&amp;#34;http://www.openstreetmap.org/copyright&amp;#34;&amp;gt;OpenStreetMap&amp;lt;/a&amp;gt;&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }).addTo(map);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> const marker = L.marker(center, {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> title: &amp;#39;aaaa&amp;#39;, // 跟 &amp;lt;a&amp;gt; 的 title 一樣
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> opacity: 1.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }).addTo(map);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> marker.bindPopup(&amp;#39;&amp;lt;b&amp;gt;Hello Guys !&amp;lt;/b&amp;gt;&amp;lt;br&amp;gt;I am in NCHC. &amp;lt;a target=&amp;#34;_blank&amp;#34; title=&amp;#34;另開視窗&amp;#34; href=&amp;#34;https://www.google.com/maps/dir//No.%207,%20R&amp;amp;D%206th%20Rd,%20East%20District,%20Hsinchu%20City,%20300&amp;#34;&amp;gt;click me to here&amp;lt;/a&amp;gt;&amp;#39;).openPopup();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> marker.bindTooltip(&amp;#34;my tooltip text&amp;#34;, {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> direction: &amp;#39;bottom&amp;#39;, // right、left、top、bottom、center。default: auto
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sticky: true, // true 跟著滑鼠移動。default: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> permanent: false, // 是滑鼠移過才出現，還是一直出現
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> opacity: 1.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }).openTooltip();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> const popup = L.popup();
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> function onMapClick(e) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> let lat = e.latlng.lat; // 緯度
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> let lng = e.latlng.lng; // 經度
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> popup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> .setLatLng(e.latlng)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> .setContent(`緯度：${lat}&amp;lt;br/&amp;gt;經度：${lng}`)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> .openOn(map);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> map.on(&amp;#39;click&amp;#39;, onMapClick);
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> const mySuperMarquee = new SuperMarquee( document.getElementById( &amp;#34;supermarquee&amp;#34; ),{&amp;#34;content&amp;#34; : &amp;#34;國家科學及技術委員會財團法人國家實驗研究院國家高速網路與計算中心&amp;#34;});
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> document.querySelector( &amp;#34;.demo-button-container&amp;#34; ).addEventListener( &amp;#34;click&amp;#34;, e =&amp;gt; {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> const { target } = e;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if ( target.classList.contains( &amp;#34;btn-primary&amp;#34; ) ) {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> const oldBtn = document.querySelector( &amp;#34;.btn-light&amp;#34; );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> oldBtn.classList.remove( &amp;#34;btn-light&amp;#34; );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> oldBtn.classList.add( &amp;#34;btn-primary&amp;#34; );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> target.classList.remove( &amp;#34;btn-primary&amp;#34; );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> target.classList.add( &amp;#34;btn-light&amp;#34; );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> mySuperMarquee.setScrollSpeed( target.innerHTML.toLowerCase() );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> });
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">})
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="https://wastu01.github.io/article/openstreetmap-leaflet-map/rick.gif"
width="360"
height="308"
srcset="https://wastu01.github.io/article/openstreetmap-leaflet-map/rick_huc5421449dc0838a25fb029b0a92158ff_798553_480x0_resize_box_1.gif 480w, https://wastu01.github.io/article/openstreetmap-leaflet-map/rick_huc5421449dc0838a25fb029b0a92158ff_798553_1024x0_resize_box_1.gif 1024w"
loading="lazy"
alt="Photo by Rick"
class="gallery-image"
data-flex-grow="116"
data-flex-basis="280px"
>&lt;/p></description></item></channel></rss>